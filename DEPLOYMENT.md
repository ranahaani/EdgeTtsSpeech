# Deployment Instructions for Render.com

## Current Issue
The deployment is failing because the service configuration in Render's dashboard has an incorrect `startCommand`. It's currently set to `gunicorn.conf.py` instead of the proper gunicorn command.

## Fix Required

### Step 1: Update Service Configuration in Render Dashboard

1. Go to [Render Dashboard](https://dashboard.render.com)
2. Navigate to your service: `speechdaddy` (srv-d0pv4k0dl3ps73b5kah0)
3. Click on "Settings" tab
4. Scroll down to "Build & Deploy" section
5. Update the **Start Command** from:
   ```
   gunicorn.conf.py
   ```
   to:
   ```
   gunicorn app:app --bind 0.0.0.0:$PORT --workers 2 --timeout 120
   ```
6. Click "Save Changes"

### Step 2: Trigger New Deployment

After updating the start command, the service should automatically redeploy. If not:

1. Go to the "Deploys" tab
2. Click "Deploy latest commit" or "Manual Deploy"

### Step 3: Verify Deployment

1. Check the deployment logs for successful startup
2. Test the health check endpoint: `https://edgettsspeech.onrender.com/health`
3. Test the main application: `https://edgettsspeech.onrender.com`

## Alternative Commands

If the above doesn't work, try these alternative start commands:

### Option 1: Using Python module
```
python -m gunicorn app:app --bind 0.0.0.0:$PORT --workers 2 --timeout 120
```

### Option 2: With explicit configuration
```
gunicorn app:app --bind 0.0.0.0:$PORT --workers 2 --worker-class sync --timeout 120 --keep-alive 2 --max-requests 1000
```

### Option 3: Minimal configuration
```
gunicorn app:app --bind 0.0.0.0:$PORT
```

## Environment Variables

Ensure these environment variables are set in Render:

- `FLASK_ENV=production`
- `SESSION_SECRET` (auto-generated by Render)
- `PORT` (auto-set by Render)
- `PYTHONPATH=.`

## Troubleshooting

If deployment still fails:

1. Check the build logs for any missing dependencies
2. Verify all files are committed to the GitHub repository
3. Ensure the health check endpoint `/health` is accessible
4. Check if the Flask app starts without errors

## Files in this deployment:

- `app.py` - Main Flask application
- `requirements.txt` - Python dependencies
- `render.yaml` - Render service configuration (for reference)
- `gunicorn.conf.py` - Gunicorn configuration (not used in current setup)
- `start.py` - Alternative startup script for development
- `.gitignore` - Git ignore rules
- `env.example` - Environment variables example 